let map = fn(list, method) {
  let apply = fn(old, new) {
    if (len(old) == 0) { return new; }
    $apply(tail(old), push(new, method(head(old))));
  };
  $apply(list, []);
}

let list = [1, 2, 3, 4, 5, 6];

let double = fn(x) {
  x * 2;
}

say(map(list, double));
